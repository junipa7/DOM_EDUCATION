<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function throttle(callback, delay) {
        let waiting = false; // 현재 대기 상태인지 여부를 나타내는 플래그 변수
        return function (...args) {
          if (!waiting) {
            callback.apply(this, args); // 콜백 함수 실행
            waiting = true; // 대기 상태로 전환하여 일정 시간 동안 재실행 방지
            setTimeout(() => {
              waiting = false; // delay가 지나면 다시 실행 가능하게 상태 복귀
            }, delay);
          }
        };
      }

      window.addEventListener(
        "scroll",
        throttle(function () {
          console.log("스크롤 감지됨 (throttle)");
        }, 200)
      );
    </script>
  </body>
</html>
