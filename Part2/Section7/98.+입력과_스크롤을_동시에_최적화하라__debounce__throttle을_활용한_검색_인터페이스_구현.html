<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>ì´ë²¤íŠ¸ ìµœì í™” ë¯¸ì…˜</title>
    <style>
      body {
        font-family: sans-serif;
        padding: 30px;
      }

      input[type="text"] {
        padding: 10px;
        font-size: 16px;
        width: 300px;
        border: 2px solid #ccc;
        border-radius: 4px;
      }

      #results {
        list-style: none;
        padding: 0;
        margin-top: 10px;
        width: 300px;
        border: 1px solid #ddd;
        border-radius: 4px;
        background-color: #fff;
      }

      #results li {
        padding: 8px 12px;
        border-bottom: 1px solid #eee;
      }

      #results li:last-child {
        border-bottom: none;
      }

      #results mark {
        background-color: yellow;
        font-weight: bold;
      }

      #scroll-box {
        background-color: #f9f9f9;
      }
    </style>
  </head>
  <body>
    <h2>ì´ë²¤íŠ¸ ì„±ëŠ¥ ìµœì í™” ë¯¸ì…˜</h2>

    <section>
      <label for="search">ğŸ” ê²€ìƒ‰ì°½ (debounce + ìë™ì™„ì„±)</label><br />
      <input
        type="text"
        id="search"
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
        autocomplete="off"
      />
      <ul id="results"></ul>
    </section>

    <section style="margin-top: 50px">
      <div id="scroll-box" style="height: 1500px">
        <p style="position: fixed; top: 10px">
          â¬‡ï¸ ì•„ë˜ë¡œ ìŠ¤í¬ë¡¤í•˜ë©´ ìƒ‰ìƒì´ ë°”ë€ë‹ˆë‹¤
        </p>
      </div>
    </section>

    <script>
      // âœ… ê²€ìƒ‰ì–´ ë°°ì—´
      const keywords = [
        "JavaScript",
        "Java",
        "Python",
        "React",
        "Vue",
        "Angular",
        "Node.js",
        "Express",
        "TypeScript",
        "HTML",
        "CSS",
        "Django",
        "Flask",
        "Next.js",
        "Nuxt.js",
        "Tailwind",
        "Bootstrap",
        "Webpack",
        "Vite",
        "MongoDB",
        "MySQL",
        "PostgreSQL",
        "GraphQL",
        "REST API",
        "DOM",
        "EventListener",
        "throttle",
        "debounce",
        "async",
        "await",
      ];

      // âœ… debounce í•¨ìˆ˜ ì •ì˜
      function debounce(callback, delay) {
        let timerId;
        return function (...args) {
          clearTimeout(timerId);
          timerId = setTimeout(() => {
            callback.apply(this, args);
          }, delay);
        };
      }

      // âœ… throttle í•¨ìˆ˜ ì •ì˜
      function throttle(callback, delay) {
        let waiting = false;
        return function (...args) {
          if (!waiting) {
            callback.apply(this, args);
            waiting = true;
            setTimeout(() => {
              waiting = false;
            }, delay);
          }
        };
      }

      // âœ… ê²€ìƒ‰ì°½ + ê²°ê³¼ DOM ìš”ì†Œ
      const searchInput = document.getElementById("search");
      const results = document.getElementById("results");

      // âœ… ê²€ìƒ‰ í•„í„° í•¨ìˆ˜ (ì…ë ¥ê°’ í¬í•¨ ì—¬ë¶€ + í•˜ì´ë¼ì´íŒ…)
      function searchKeywords(value) {
        results.innerHTML = "";

        if (value.trim() === "") return;

        const filtered = keywords.filter((word) =>
          word.toLowerCase().includes(value.toLowerCase())
        );

        if (filtered.length === 0) {
          const li = document.createElement("li");
          li.textContent = "ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.";
          results.appendChild(li);
          return;
        }

        filtered.forEach((word) => {
          const li = document.createElement("li");
          const regex = new RegExp(`(${value})`, "gi");
          const highlighted = word.replace(regex, "<mark>$1</mark>");
          li.innerHTML = highlighted;
          results.appendChild(li);
        });
      }

      // âœ… ì…ë ¥ ì´ë²¤íŠ¸ ì—°ê²° (debounce ì ìš©)
      searchInput.addEventListener(
        "input",
        debounce(function () {
          searchKeywords(this.value);
          console.log("ğŸ” ê²€ìƒ‰ ì‹¤í–‰:", this.value);
        }, 500)
      );

      // âœ… ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸ ì—°ê²° (throttle ì ìš©)
      const scrollBox = document.getElementById("scroll-box");
      const colors = ["#f9f9f9", "#e3f2fd", "#fff3e0", "#fce4ec", "#f3e5f5"];
      let colorIndex = 0;

      window.addEventListener(
        "scroll",
        throttle(function () {
          colorIndex = (colorIndex + 1) % colors.length;
          scrollBox.style.backgroundColor = colors[colorIndex];
          console.log("ğŸ“œ ìŠ¤í¬ë¡¤ ì²˜ë¦¬");
        }, 200)
      );
    </script>
  </body>
</html>
